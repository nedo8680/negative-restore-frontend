(function(l,y){typeof exports=="object"&&typeof module<"u"?module.exports=y(require("react")):typeof define=="function"&&define.amd?define(["react"],y):(l=typeof globalThis<"u"?globalThis:l||self,l.ReactCompareImage=y(l.React))})(this,function(l){"use strict";var y={exports:{}},I={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var te;function ie(){if(te)return I;te=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function p(n,m,v){var k=null;if(v!==void 0&&(k=""+v),m.key!==void 0&&(k=""+m.key),"key"in m){v={};for(var S in m)S!=="key"&&(v[S]=m[S])}else v=m;return m=v.ref,{$$typeof:a,type:n,key:k,ref:m!==void 0?m:null,props:v}}return I.Fragment=i,I.jsx=p,I.jsxs=p,I}var N={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var re;function se(){return re||(re=1,process.env.NODE_ENV!=="production"&&function(){function a(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===b?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case Z:return"Profiler";case L:return"StrictMode";case K:return"Suspense";case V:return"SuspenseList";case q:return"Activity"}if(typeof e=="object")switch(typeof e.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),e.$$typeof){case J:return"Portal";case u:return(e.displayName||"Context")+".Provider";case Q:return(e._context.displayName||"Context")+".Consumer";case g:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:a(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return a(e(t))}catch{}}return null}function i(e){return""+e}function p(e){try{i(e);var t=!1}catch{t=!0}if(t){t=console;var r=t.error,o=typeof Symbol=="function"&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object";return r.call(t,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",o),i(e)}}function n(e){if(e===_)return"<>";if(typeof e=="object"&&e!==null&&e.$$typeof===x)return"<...>";try{var t=a(e);return t?"<"+t+">":"<...>"}catch{return"<...>"}}function m(){var e=W.A;return e===null?null:e.getOwner()}function v(){return Error("react-stack-top-frame")}function k(e){if(w.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return e.key!==void 0}function S(e,t){function r(){R||(R=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",t))}r.isReactWarning=!0,Object.defineProperty(e,"key",{get:r,configurable:!0})}function z(){var e=a(this.type);return M[e]||(M[e]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),e=this.props.ref,e!==void 0?e:null}function Y(e,t,r,o,E,h,P,$){return r=h.ref,e={$$typeof:F,type:e,key:t,props:h,_owner:E},(r!==void 0?r:null)!==null?Object.defineProperty(e,"ref",{enumerable:!1,get:z}):Object.defineProperty(e,"ref",{enumerable:!1,value:null}),e._store={},Object.defineProperty(e._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(e,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(e,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:P}),Object.defineProperty(e,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:$}),Object.freeze&&(Object.freeze(e.props),Object.freeze(e)),e}function D(e,t,r,o,E,h,P,$){var s=t.children;if(s!==void 0)if(o)if(O(s)){for(o=0;o<s.length;o++)U(s[o]);Object.freeze&&Object.freeze(s)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else U(s);if(w.call(t,"key")){s=a(e);var j=Object.keys(t).filter(function(H){return H!=="key"});o=0<j.length?"{key: someKey, "+j.join(": ..., ")+": ...}":"{key: someKey}",c[s+o]||(j=0<j.length?"{"+j.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,o,s,j,s),c[s+o]=!0)}if(s=null,r!==void 0&&(p(r),s=""+r),k(t)&&(p(t.key),s=""+t.key),"key"in t){r={};for(var G in t)G!=="key"&&(r[G]=t[G])}else r=t;return s&&S(r,typeof e=="function"?e.displayName||e.name||"Unknown":e),Y(e,s,h,E,m(),r,P,$)}function U(e){typeof e=="object"&&e!==null&&e.$$typeof===F&&e._store&&(e._store.validated=1)}var A=l,F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),u=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),q=Symbol.for("react.activity"),b=Symbol.for("react.client.reference"),W=A.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w=Object.prototype.hasOwnProperty,O=Array.isArray,T=console.createTask?console.createTask:function(){return null};A={"react-stack-bottom-frame":function(e){return e()}};var R,M={},C=A["react-stack-bottom-frame"].bind(A,v)(),d=T(n(v)),c={};N.Fragment=_,N.jsx=function(e,t,r,o,E){var h=1e4>W.recentlyCreatedOwnerStacks++;return D(e,t,r,!1,o,E,h?Error("react-stack-top-frame"):C,h?T(n(e)):d)},N.jsxs=function(e,t,r,o,E){var h=1e4>W.recentlyCreatedOwnerStacks++;return D(e,t,r,!0,o,E,h?Error("react-stack-top-frame"):C,h?T(n(e)):d)}}()),N}var ne;function le(){return ne||(ne=1,process.env.NODE_ENV==="production"?y.exports=ie():y.exports=se()),y.exports}var f=le(),ce=process.env.NODE_ENV==="production",B="Invariant failed";function oe(a,i){if(!a){if(ce)throw new Error(B);var p=typeof i=="function"?i():i,n=p?"".concat(B,": ").concat(p):B;throw new Error(n)}}function ue(a){const i=l.useRef(null);return l.useLayoutEffect(()=>{if(!i.current)return;const p=new ResizeObserver(n=>{oe(n[0],"ResizeObserver should have at least one entry"),a(n[0].contentRect.width)});return p.observe(i.current),a(i.current.getBoundingClientRect().width),()=>{p.disconnect()}},[a]),i}function de(a,i,p,n){const m=n==="taller"?Math.max(i,p):Math.min(i,p);return a*m}function ae(a){return a.naturalHeight/a.naturalWidth}return a=>{const{aspectRatio:i="taller",handle:p=null,handleSize:n=40,hover:m=!1,leftImage:v,leftImageAlt:k="",leftImageCss:S={},leftImageLabel:z=null,onSliderPositionChange:Y,rightImage:D,rightImageAlt:U="",rightImageCss:A={},rightImageLabel:F=null,skeleton:J=null,sliderLineColor:_="#ffffff",sliderLineWidth:L=2,sliderPositionPercentage:Z=.5,vertical:Q=!1}=a,u=!Q,[g,K]=l.useState(Z),[V,X]=l.useState(!1),[x,q]=l.useState(0),[b,W]=l.useState(0),w=ue(c=>q(c)),O=l.useRef(null),T=l.useRef(null),[R,M]=l.useState(!1),C=l.useCallback(()=>{var c,e;(c=T.current)!=null&&c.complete&&((e=O.current)!=null&&e.complete)&&M(!0)},[]);l.useEffect(()=>(C(),()=>{M(!1)}),[v,D]),l.useEffect(()=>{if(!(T.current&&O.current)||x===0||!R)return;const c=de(x,ae(T.current),ae(O.current),i);W(c)},[x,R,i]),l.useEffect(()=>{if(!w.current||!R)return;const c=o=>{if(!w.current)return;const E=w.current.getBoundingClientRect();let h,P;if(o instanceof TouchEvent){const ee=o.touches[0];oe(ee),h=ee.clientX,P=ee.clientY}else h=o.clientX,P=o.clientY;const $=u?h-E.left:P-E.top,s=L/2,j=u?x-s:b-s,H=Math.min(Math.max($,s),j)/(u?x:b);K(H),Y==null||Y(H)},e=o=>{X(!0),"touches"in o||o.preventDefault(),c(o),window.addEventListener("mousemove",c),window.addEventListener("touchmove",c)},t=()=>{X(!1),window.removeEventListener("mousemove",c),window.removeEventListener("touchmove",c)},r=w.current;return r.addEventListener("touchstart",e),window.addEventListener("touchend",t),m?(r.addEventListener("mousemove",c),r.addEventListener("mouseleave",t)):(r.addEventListener("mousedown",e),window.addEventListener("mouseup",t)),()=>{r.removeEventListener("touchstart",e),window.removeEventListener("touchend",t),r.removeEventListener("mousemove",c),r.removeEventListener("mouseleave",t),r.removeEventListener("mousedown",e),window.removeEventListener("mouseup",t),window.removeEventListener("mousemove",c),window.removeEventListener("touchmove",c)}},[R,i,b,x,u,m,L,w]);const d={container:{boxSizing:"border-box",position:"relative",width:"100%",height:`${b}px`,overflow:"hidden"},rightImage:{clipPath:u?`inset(0px 0px 0px ${x*g}px)`:`inset(${b*g}px 0px 0px 0px)`,display:"block",height:"100%",objectFit:"cover",position:"absolute",width:"100%",...A},leftImage:{clipPath:u?`inset(0px ${x*(1-g)}px 0px 0px)`:`inset(0px 0px ${b*(1-g)}px 0px)`,display:"block",height:"100%",objectFit:"cover",position:"absolute",width:"100%",...S},slider:{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",...u?{cursor:"ew-resize",flexDirection:"column",height:"100%",left:`${x*g-n/2}px`,top:0,width:`${n}px`}:{cursor:"ns-resize",flexDirection:"row",height:`${n}px`,left:0,top:`${b*g-n/2}px`,width:"100%"}},line:{background:_,boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",flex:"0 1 auto",height:u?"100%":`${L}px`,width:u?`${L}px`:"100%"},handleCustom:{alignItems:"center",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:"auto",justifyContent:"center",width:"auto"},handleDefault:{alignItems:"center",border:`${L}px solid ${_}`,borderRadius:"100%",boxShadow:"0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)",boxSizing:"border-box",display:"flex",flex:"1 0 auto",height:`${n}px`,justifyContent:"center",width:`${n}px`,transform:u?"none":"rotate(90deg)"},leftArrow:{border:`inset ${n*.15}px rgba(0,0,0,0)`,borderRight:`${n*.15}px solid ${_}`,height:"0px",marginLeft:`-${n*.25}px`,marginRight:`${n*.25}px`,width:"0px"},rightArrow:{border:`inset ${n*.15}px rgba(0,0,0,0)`,borderLeft:`${n*.15}px solid ${_}`,height:"0px",marginRight:`-${n*.25}px`,width:"0px"},leftLabel:{background:"rgba(0, 0, 0, 0.5)",color:"white",left:u?"5%":"50%",opacity:V?0:1,padding:"10px 20px",position:"absolute",top:u?"50%":"3%",transform:u?"translate(0,-50%)":"translate(-50%, 0)",transition:"opacity 0.1s ease-out"},rightLabel:{background:"rgba(0, 0, 0, 0.5)",color:"white",opacity:V?0:1,padding:"10px 20px",position:"absolute",...u?{right:"5%",top:"50%",transform:"translate(0,-50%)"}:{left:"50%",bottom:"3%",transform:"translate(-50%, 0)"},transition:"opacity 0.1s ease-out"},leftLabelContainer:{clipPath:u?`inset(0px ${x*(1-g)}px 0px 0px)`:`inset(0px 0px ${b*(1-g)}px 0px)`,height:"100%",position:"absolute",width:"100%"},rightLabelContainer:{clipPath:u?`inset(0px 0px 0px ${x*g}px)`:`inset(${b*g}px 0px 0px 0px)`,height:"100%",position:"absolute",width:"100%"}};return f.jsxs(f.Fragment,{children:[J&&!R&&f.jsx("div",{style:{...d.container},children:J}),f.jsxs("div",{style:{...d.container,display:R?"block":"none"},ref:w,"data-testid":"container",children:[f.jsx("img",{onLoad:()=>C(),alt:U,"data-testid":"right-image",ref:O,src:D,style:d.rightImage}),f.jsx("img",{onLoad:()=>C(),alt:k,"data-testid":"left-image",ref:T,src:v,style:d.leftImage}),f.jsxs("div",{style:d.slider,children:[f.jsx("div",{style:d.line}),p?f.jsx("div",{style:d.handleCustom,children:p}):f.jsxs("div",{style:d.handleDefault,children:[f.jsx("div",{style:d.leftArrow}),f.jsx("div",{style:d.rightArrow})]}),f.jsx("div",{style:d.line})]}),z&&f.jsx("div",{style:d.leftLabelContainer,children:f.jsx("div",{style:d.leftLabel,children:z})}),F&&f.jsx("div",{style:d.rightLabelContainer,children:f.jsx("div",{style:d.rightLabel,children:F})})]})]})}});
